(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,a,t){e.exports=t(51)},41:function(e,a,t){},51:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),l=t(26),c=t.n(l),r=t(12),s=t(11),i=t(5),m=t(6),u=t(9),h=t(7),d=t(8),p=t(10),f=t(27),v=t(16),b=t(21),E=t.n(b);t(35),t(38);E.a.initializeApp({apiKey:"AIzaSyA6Qkv6hfOoTdlZhd-Cys4ZsTCXVTAz5xc",authDomain:"creatinkersunity.firebaseapp.com",databaseURL:"https://creatinkersunity.firebaseio.com",projectId:"creatinkersunity",storageBucket:"creatinkersunity.appspot.com",messagingSenderId:"564214147615",appId:"1:564214147615:web:7ebbd819993b8af7"});var g=E.a,y=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(h.a)(a).call(this,e))).handleChange=function(e){t.setState({form:Object(f.a)({},t.state.form,Object(p.a)({},e.target.name,e.target.value))})},t.schoolName=function(){return t.props.schools.filter(function(e){return e.id===t.state.form.schoolId})[0].name},t.onSubmit=function(e){e.preventDefault();for(var a=function(e){var a=t.create_UUID(),n=Object(v.a)(t);g.database().ref("keys").child("".concat(a)).set({grade:t.state.form.grade,group:t.state.form.group,school:t.schoolName(),schoolId:t.state.form.schoolId,status:"pending"},function(e){e?console.log(e):n.addKey(a)})},n=0;n<t.state.form.keys;n++)a()},t.state={keys:[],form:{}},t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"create_UUID",value:function(){var e=(new Date).getTime();return"xxxxxyxx".replace(/[xy]/g,function(a){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===a?t:3&t|8).toString(16)})}},{key:"addKey",value:function(e){var a=this.state.keys.slice();a.push(e),this.setState({keys:a})}},{key:"table",value:function(){return o.a.createElement("table",{className:"table SchoolNew-top-space"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{scope:"col"},"Key"))),o.a.createElement("tbody",null,this.state.keys.map(function(e){return o.a.createElement("tr",null,o.a.createElement("td",null,e))})))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm"},o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("div",{className:"SchoolNew-top-space"},o.a.createElement("input",{type:"text",className:"form-control",value:this.state.form.grade,onChange:this.handleChange,name:"grade",placeholder:"Grade"})),o.a.createElement("div",{className:"SchoolNew-top-space"},o.a.createElement("input",{type:"text",className:"form-control",value:this.state.form.group,onChange:this.handleChange,name:"group",placeholder:"Group"})),o.a.createElement("div",{className:"form-group SchoolNew-top-space"},o.a.createElement("select",{className:"form-control",onChange:this.handleChange,value:this.state.form.schoolId,name:"schoolId"},o.a.createElement("option",null,"Selecciona una opci\xf3n"),this.props.schools.map(function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.name)}))),o.a.createElement("div",{className:"SchoolNew-top-space"},o.a.createElement("input",{type:"number",className:"form-control",value:this.state.form.keys,onChange:this.handleChange,name:"keys",placeholder:"Keys"})),o.a.createElement("button",{className:"btn btn-outline-primary SchoolNew-top-space float-right",type:"submit"},"Generar"))),o.a.createElement("div",{className:"col-sm"},this.table())))}}]),a}(o.a.Component),N=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(h.a)(a).call(this,e))).schoolsRef=g.database().ref("schools"),t.state={keys:[],schools:[]},t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.schoolsRef.on("value",function(a){var t=[],n=a.val();for(var o in n)t.push({id:o,name:n[o].name});e.setState({schools:t})})}},{key:"render",value:function(){return o.a.createElement(y,{schools:this.state.schools})}}]),a}(o.a.Component),k=function(e){return o.a.createElement("table",{className:"table SchoolNew-top-space"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{scope:"col"},"#"),o.a.createElement("th",null,"Grade"),o.a.createElement("th",null,"Group"),o.a.createElement("th",null,"School"),o.a.createElement("th",null,"Key"),o.a.createElement("th",null,"Status"))),o.a.createElement("tbody",null,e.keys.map(function(e,a){return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,a),o.a.createElement("td",null,e.grade),o.a.createElement("td",null,e.group),o.a.createElement("td",null,e.school),o.a.createElement("td",null,e.id),o.a.createElement("td",null,o.a.createElement("span",{className:"badge ".concat("pending"===e.status?"badge-primary":"badge-success")},e.status)))})))},j=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(h.a)(a).call(this,e))).keysRef=g.database().ref("keys"),t.state={codes:[]},t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.keysRef.on("value",function(a){var t=[],n=a.val();for(var o in n)t.push({id:o,grade:n[o].grade,group:n[o].group,school:n[o].school,status:n[o].status});e.setState({codes:t})})}},{key:"render",value:function(){return o.a.createElement(k,{keys:this.state.codes})}}]),a}(o.a.Component);var O=function(e){return o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},e.schoolName))},S=(t(41),function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(h.a)(a).call(this,e))).handleChange=function(e){t.setState({form:Object(p.a)({},e.target.name,e.target.value)})},t.onSubmit=function(e){e.preventDefault();var a=g.database().ref().child("schools").push().key;g.database().ref("schools/".concat(a)).update({name:t.state.form.name},function(e){e?console.log(e):console.log("successfull")})},t.state={form:{}},t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("div",{className:"input-group mb-3 SchoolNew-top-space"},o.a.createElement("input",Object(p.a)({type:"text",className:"form-control",placeholder:"Colegio",value:this.state.schoolName,onChange:this.handleChange,name:"name"},"placeholder","School Name")),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{className:"btn btn-outline-primary",type:"submit"},"Agregar"))))}}]),a}(o.a.Component)),w=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(h.a)(a).call(this,e))).schoolsRef=g.database().ref("schools"),t.state={schools:[]},t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.schoolsRef.on("value",function(a){var t=[],n=a.val();for(var o in n)t.push({name:n[o].name});e.setState({schools:t})})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(S,null),this.state.schools.map(function(e){return o.a.createElement(O,{schoolName:e.name})}))}}]),a}(o.a.Component),C=function(){return o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup"},o.a.createElement("div",{className:"navbar-nav"},o.a.createElement(r.b,{className:"nav-item nav-link active",to:"/"},"Home ",o.a.createElement("span",{className:"sr-only"},"(current)")),o.a.createElement(r.b,{className:"nav-item nav-link",to:"/schools"},"Colegios"),o.a.createElement(r.b,{className:"nav-item nav-link",to:"/keys"},"Keys"))))},x=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(C,null),o.a.createElement("div",{className:"container"},e.children))},I=function(){return o.a.createElement(r.a,null,o.a.createElement(x,null,o.a.createElement(s.c,null,o.a.createElement(s.a,{exact:!0,path:"/",component:N}),o.a.createElement(s.a,{exact:!0,path:"/schools",component:w}),o.a.createElement(s.a,{exact:!0,path:"/keys",component:j}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(50);c.a.render(o.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[30,1,2]]]);
//# sourceMappingURL=main.3688b0c2.chunk.js.map